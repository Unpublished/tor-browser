// Import all prefs from the canonical file
// We override mobile-specific prefs below
// Tor Browser for Android
// Do not edit this file.

#include ../../../browser/app/profile/000-tor-browser.js


// Disable Presentation API
pref("dom.presentation.controller.enabled", false);
pref("dom.presentation.enabled", false);
pref("dom.presentation.discoverable", false);
pref("dom.presentation.discoverable.encrypted", false);
pref("dom.presentation.discovery.enabled", false);
pref("dom.presentation.receiver.enabled", false);

pref("dom.audiochannel.audioCompeting", false);
pref("dom.audiochannel.mediaControl", false);

// Space separated list of URLS that are allowed to send objects (instead of
// only strings) through webchannels. This list is duplicated in browser/app/profile/firefox.js
pref("webchannel.allowObject.urlWhitelist", "");

// Disable browser auto updaters
pref("app.update.auto", false);
pref("app.update.enabled", false);
pref("browser.startup.homepage_override.mstone", "ignore");

// Fingerprinting
pref("dom.battery.enabled", false); // fingerprinting due to differing OS implementations
// The User Agent String is set in AppConstants, we'll set this just-in-case,
// and override the value set for Desktop.
// This must be kept synchronized with AppConstants.USER_AGENT_FENNEC_MOBILE, somehow.
pref("general.useragent.override", "Mozilla/5.0 (Android 4.1.0; Mobile; rv:61.0) Gecko/61.0 Firefox/61.0");

// Clear data on quit
pref("privacy.clearOnShutdown.cache", true);
pref("privacy.clearOnShutdown.cookies",true);
pref("privacy.clearOnShutdown.downloads",true);
pref("privacy.clearOnShutdown.formdata",true);
pref("privacy.clearOnShutdown.history",true);
pref("privacy.clearOnShutdown.offlineApps",true);
pref("privacy.clearOnShutdown.passwords",true);
pref("privacy.clearOnShutdown.sessions",true);
pref("privacy.clearOnShutdown.siteSettings",true);

// Disable Control media casting & mirroring features
pref("browser.casting.enabled", false);
pref("browser.mirroring.enabled", false);

// Disable autoplay
pref("media.autoplay.enabled", false);

// Disable VR, until it's audited
pref("dom.vr.enabled", false);

// Disable geo
pref("geo.enabled", false);

// controls if we want camera support
pref("device.camera.enabled", false);
pref("media.realtime_decoder.enabled", false);

// Transmit UDP busy-work to the LAN when anticipating low latency
// network reads and on wifi to mitigate 802.11 Power Save Polling delays
pref("network.tickle-wifi.enabled", false);

// Mobile manages state by autodetection
pref("network.manage-offline-status", false);

// Do not fetch updated per-site user-agent strings from Mozilla
// See ua-update.json.in for the packaged UA override list
// See https://bugzilla.mozilla.org/show_bug.cgi?id=897221
pref("general.useragent.updates.enabled", false);
pref("general.useragent.updates.url", "");

// Override this because Orbot uses 9050 as the default
pref("network.proxy.socks_port", 9050);
